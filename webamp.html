<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Webamp — BadRadio</title>
  <!-- Webamp JS/CSS from official docs (example usage) -->
  <script src="https://cdn.jsdelivr.net/gh/captbaritone/webamp@latest/dist/webamp.bundle.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/captbaritone/webamp@latest/dist/webamp.css" />
  <style>
    /* shrink page so iframe fits nicely */
    html,body { height:100%; margin:0; background:#000; }
    #app { width: 100%; height: 100%; display:flex; align-items:flex-start; justify-content:center; padding:6px; box-sizing:border-box; }
  </style>
</head>
<body>
  <div id="app"></div>

  <script>
    // URL for BadRadio's stream (from their site). If this doesn't play, try the station's /stream URL variants.
    const streamUrl = "https://badradio.nz/stream";

    // Create a Webamp instance with one initial track that is the stream URL
    const webamp = new Webamp({
      initialTracks: [
        {
          metaData: { artist: "BadRadio.nz", title: "Live Stream" },
          // for many shoutcast/icecast mp3 streams this works directly
          url: streamUrl,
          duration: 0
        }
      ],
      initialSkin: {
        // optional: use default skin or provide a direct .wsz/.skin url
      }
    });

    // Render into the page
    webamp.renderWhenReady(document.getElementById("app")).then(() => {
      console.log("Webamp ready");
      // NOTE: autoplay may be blocked — user needs to hit play in many browsers.
    }).catch(err => {
      console.error("Failed to load Webamp:", err);
      document.getElementById("app").innerText = "Failed to load player.";
    });
  </script>
</body>
</html>
